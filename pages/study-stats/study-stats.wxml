<!--pages/study-stats/study-stats.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-overview">
    <view class="stats-card">
      <view class="stats-title">ğŸ“Š å­¦ä¹ ç»Ÿè®¡æ¦‚è§ˆ</view>
      <view class="stats-grid">
        <view class="stat-item">
          <view class="stat-number">{{totalDays}}</view>
          <view class="stat-label">è¿ç»­å­¦ä¹ å¤©æ•°</view>
        </view>
        <view class="stat-item">
          <view class="stat-number">{{currentLevel}}</view>
          <view class="stat-label">å½“å‰ç­‰çº§</view>
        </view>
        <view class="stat-item">
          <view class="stat-number">{{totalWords}}</view>
          <view class="stat-label">ç´¯è®¡å­¦ä¹ å•è¯</view>
        </view>
        <view class="stat-item">
          <view class="stat-number">{{accuracy}}%</view>
          <view class="stat-label">å¹³å‡æ­£ç¡®ç‡</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ¬å‘¨å­¦ä¹ è¿›åº¦ -->
  <view class="week-progress">
    <view class="section-title">ğŸ“ˆ æœ¬å‘¨å­¦ä¹ è¿›åº¦</view>
    <view class="progress-card">
      <view class="progress-header">
        <view class="progress-text">æœ¬å‘¨ç›®æ ‡: {{weekTarget}}ä¸ªå•è¯</view>
        <view class="progress-percent">{{weekProgress}}%</view>
      </view>
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{weekProgress}}%"></view>
      </view>
      <view class="progress-detail">
        <view class="detail-item">
          <text class="detail-label">å·²å®Œæˆ:</text>
          <text class="detail-value">{{weekCompleted}}ä¸ª</text>
        </view>
        <view class="detail-item">
          <text class="detail-label">å‰©ä½™:</text>
          <text class="detail-value">{{weekRemaining}}ä¸ª</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ æ—¶é•¿ç»Ÿè®¡ -->
  <view class="time-stats">
    <view class="section-title">â° å­¦ä¹ æ—¶é•¿ç»Ÿè®¡</view>
    <view class="time-card">
      <view class="time-grid">
        <view class="time-item">
          <view class="time-number">{{todayTime}}</view>
          <view class="time-label">ä»Šæ—¥å­¦ä¹ </view>
          <view class="time-unit">åˆ†é’Ÿ</view>
        </view>
        <view class="time-item">
          <view class="time-number">{{weekTime}}</view>
          <view class="time-label">æœ¬å‘¨å­¦ä¹ </view>
          <view class="time-unit">å°æ—¶</view>
        </view>
        <view class="time-item">
          <view class="time-number">{{totalTime}}</view>
          <view class="time-label">ç´¯è®¡å­¦ä¹ </view>
          <view class="time-unit">å°æ—¶</view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç­”é¢˜ç»Ÿè®¡ -->
  <view class="quiz-stats">
    <view class="section-title">ğŸ¯ ç­”é¢˜ç»Ÿè®¡</view>
    <view class="quiz-card">
      <view class="quiz-overview">
        <view class="quiz-item">
          <view class="quiz-number">{{totalQuestions}}</view>
          <view class="quiz-label">æ€»ç­”é¢˜æ•°</view>
        </view>
        <view class="quiz-item">
          <view class="quiz-number">{{correctAnswers}}</view>
          <view class="quiz-label">æ­£ç¡®ç­”é¢˜</view>
        </view>
        <view class="quiz-item">
          <view class="quiz-number">{{wrongAnswers}}</view>
          <view class="quiz-label">é”™è¯¯ç­”é¢˜</view>
        </view>
      </view>
      <view class="accuracy-display">
        <view class="accuracy-circle">
          <view class="accuracy-text">{{accuracy}}%</view>
          <view class="accuracy-label">æ€»ä½“æ­£ç¡®ç‡</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘å­¦ä¹ è®°å½• -->
  <view class="recent-records">
    <view class="section-title">ğŸ“ æœ€è¿‘å­¦ä¹ è®°å½•</view>
    <view class="records-list">
      <view class="record-item" wx:for="{{recentRecords}}" wx:key="id">
        <view class="record-date">{{item.date}}</view>
        <view class="record-content">
          <view class="record-title">{{item.title}}</view>
          <view class="record-detail">
            <text class="record-words">å­¦ä¹ {{item.wordsCount}}ä¸ªå•è¯</text>
            <text class="record-time">ç”¨æ—¶{{item.duration}}åˆ†é’Ÿ</text>
            <text class="record-accuracy">æ­£ç¡®ç‡{{item.accuracy}}%</text>
          </view>
        </view>
        <view class="record-score">+{{item.score}}</view>
      </view>
    </view>
  </view>

  <!-- æˆå°±å±•ç¤º -->
  <view class="achievements">
    <view class="section-title">ğŸ† æœ€è¿‘æˆå°±</view>
    <view class="achievement-list">
      <view class="achievement-item" wx:for="{{achievements}}" wx:key="id">
        <view class="achievement-icon">{{item.icon}}</view>
        <view class="achievement-content">
          <view class="achievement-name">{{item.name}}</view>
          <view class="achievement-desc">{{item.description}}</view>
          <view class="achievement-date">{{item.date}}</view>
        </view>
        <view class="achievement-badge" wx:if="{{item.isNew}}">NEW</view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="btn btn-primary" bindtap="startLearning">å¼€å§‹å­¦ä¹ </button>
    <button class="btn btn-secondary" bindtap="viewErrorBook">æŸ¥çœ‹é”™é¢˜æœ¬</button>
  </view>
</view>